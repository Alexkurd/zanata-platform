<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a="http://richfaces.org/a4j"
    template="../layout/template.xhtml">

<ui:define name="center_content">
  <h2>Import data from Damned Lies</h2>
  <rich:tabPanel selectedTab="#{dlImport.step}">
    <rich:tab id="step_1" label="Step 1: Source">
      <h:form id="dlImportFormStep1">
        <s:decorate id="sourceField" template="../layout/edit.xhtml">
            <ui:define name="label">Source</ui:define>
            <h:selectOneRadio id="source" value="#{dlImport.source}">
              <a:support event="onclick" reRender="urlField" />
              <f:selectItem id="source_fedora" itemLabel="Fedora Instance" itemValue="fedora"/>
              <f:selectItem id="source_gnome" itemLabel="Gnome Instance" itemValue="gnome"/>
              <f:selectItem id="source_other" itemLabel="Other (specify URL)" itemValue="other"/>
            </h:selectOneRadio>
        </s:decorate>
        
        <a:outputPanel ajaxRendered="true" >
          <s:decorate id="urlField" template="../layout/edit.xhtml" rendered="#{dlImport.source == 'other'}">
              <ui:define name="label">Url</ui:define>
              <h:inputText id="url" required="true"
                           value="#{dlImport.url}"/>
          </s:decorate>
        </a:outputPanel>
        <div style="clear:both"/>
        <div class="actionButtons">
            <h:commandButton id="damnedLiesImport" value="Next"
                    action="#{dlImport.damnedLiesImport}"/>
        </div>
      </h:form>
    </rich:tab>
    
    <rich:tab id="step_2" label="Step 2: Import" disabled="#{dlImport.step != 'step_2'}">
      <h:form id="dlImportFormStep2">
        <div class="actionButtons">
            <h:commandButton id="damnedLiesImport" value="Next" action="#{dlImport.damnedLiesImport}"/>
        </div>
      </h:form>
    </rich:tab>

    <rich:tab id="step_3" label="Step 3: Finish" disabled="#{dlImport.step != 'step_3'}">
      <h:form id="dlImportFormStep3">
        <div class="actionButtons">
            <h:commandButton id="damnedLiesImport" value="Finish" action="#{dlImport.damnedLiesImport}"/>
        </div>
      </h:form>
    </rich:tab>
  </rich:tabPanel>



</ui:define>

</ui:composition>
